<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>

    <meta name="viewport" content="width=1600, initial-scale=1"/>

    <script src="js/third-party/jquery-3.5.1.js"></script>
    <script src="js/third-party/angular.min.js"></script>

    <script src="js/third-party/bootstrap-3.3.7-dist/js/bootstrap.js"></script>
    <link rel="stylesheet" href="js/third-party/bootstrap-3.3.7-dist/css/bootstrap.css"/>

    <script src="js/third-party/ngtable202.js"></script>
    <link rel="stylesheet" href="js/third-party/ngtable202.css"/>

    <script src="js/third-party/underscore.js"></script>
    <script src="js/testRunner.js"></script>
</head>
<body ng-app="testApp">

<style>
    .row {
        margin-top: 1.5rem;
        margin-bottom: 1.5rem;
    }

    #loadingBar .status {
        width: 0;
        background: #77de00;
        height: 3px;
    }

    #resultTableHeader {
        table-layout: fixed;
        margin-bottom: 0;
    }

    #resultTable > thead {
        display: none;
    }

    #resultTable > tbody > tr > td {
        padding: 0;
    }

    .resultInnerTable {
        table-layout: fixed;
        background-color: transparent !important;
        margin: 0;
    }

    .resultInnerTable th {
        font-weight: normal;
        text-align: left;
        border: 0 !important;

        height: 6.1em;
        user-select: auto;
    }

    .decl-col {
        width: 4em;
    }

    .gender-col {
        width: 6em;
    }
</style>

<div class="container-fluid" ng-controller="TestRunnerController">
    <div>

        <div ng-if="!items">
            <div id="loadingBar" style="margin-top: 5rem;">
                <div class="status"></div>
            </div>
        </div>

        <div ng-if="items">

            <div class="row">
                <div class="col-xs-10">
                    <table>
                        <tr>
                            <td class="text-right" style="padding-right: 1rem;">
                                <strong>
                                    –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞
                                </strong>
                            </td>
                            <td>
                                {{wordsCorrect}} / {{wordsTotal}} ({{wordsCorrectShare | number:2}}%)
                            </td>
                        </tr>
                        <tr>
                            <td class="text-right" style="padding-right: 1rem;">
                                <strong>
                                    –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—ã —Å–ª–æ–≤
                                </strong>
                            </td>
                            <td>
                                {{wordFormsCorrect}} / {{wordFormsTotal}} ({{wordFormsCorrectShare | number:2}}%)
                            </td>
                        </tr>
                        <tr>
                            <td class="text-right" style="padding-right: 1rem;">
                                <strong>
                                    –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞ —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏
                                </strong>
                            </td>
                            <td>
                                {{wordsHasWarnings}} / {{wordsTotal}} ({{wordsHasWarningsShare | number:2}}%)
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="col-xs-2 text-right">
                    <iframe src="https://ghbtns.com/github-btn.html?user=georgy7&repo=russian_nouns&type=star&count=true&size=large"
                            frameborder="0" scrolling="0" width="80px" height="30px"></iframe>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12">
                    <div class="btn-group" role="group" aria-label="–†–µ–∂–∏–º —Ç–∞–±–ª–∏—Ü—ã">
                        <button type="button"
                                aria-label="–í—Å–µ —Å–ª–æ–≤–∞"
                                class="btn btn-secondary"
                                ng-class="{'active': (wordTableMode === 1)}"
                                ng-click="setWordTableMode(1)">
                            üü©üüßüü•
                        </button>
                        <button type="button"
                                aria-label="–°–ª–æ–≤–∞ —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏ –∏ –æ—à–∏–±–∫–∞–º–∏"
                                class="btn btn-secondary"
                                ng-class="{'active': (wordTableMode === 2)}"
                                ng-click="setWordTableMode(2)">
                            üüßüü•
                        </button>
                        <button type="button"
                                aria-label="–¢–æ–ª—å–∫–æ —Å–ª–æ–≤–∞ —Å –æ—à–∏–±–∫–∞–º–∏"
                                class="btn btn-secondary"
                                ng-class="{'active': (wordTableMode === 3)}"
                                ng-click="setWordTableMode(3)">
                            üü•
                        </button>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12">

                    <table id="resultTableHeader" class="table table-hover">
                        <tr>
                            <th>
                                <span class="text-muted">–ï—Å—Ç—å</span><br/>
                                –ö—Ç–æ? –ß—Ç–æ?
                            </th>
                            <th>
                                <span class="text-muted">–ù–µ—Ç</span><br/>
                                –ö–æ–≥–æ? –ß–µ–≥–æ?
                            </th>
                            <th>
                                <span class="text-muted">–î–æ–≤–µ—Ä—è—Ç—å</span><br/>
                                –ö–æ–º—É? –ß–µ–º—É?
                            </th>
                            <th>
                                <span class="text-muted">–í–∏–¥–µ—Ç—å</span><br/>
                                –ö–æ–≥–æ? –ß—Ç–æ?
                            </th>
                            <th>
                                <span class="text-muted">–ì–æ—Ä–¥–∏—Ç—å—Å—è</span><br/>
                                –ö–µ–º? –ß–µ–º?
                            </th>
                            <th>
                                <span class="text-muted">–î—É–º–∞—Ç—å</span><br/>
                                –û&nbsp;–∫–æ–º? –û&nbsp;—á–µ–º?
                            </th>
                            <!--<th>–í&nbsp;–∫–æ–º? –í&nbsp;—á–µ–º?</th>-->
                            <th rowspan="2" class="info decl-col">–°–∫–ª.</th>
                            <th rowspan="2" class="info gender-col">–†–æ–¥</th>
                        </tr>

                        <tr>
                            <th>
                                &ndash;
                            </th>
                            <th>
                                —É, –æ–∫–æ–ª–æ, –æ—Ç, –±–µ–∑, –∏–∑, –¥–æ, –¥–ª—è, –≤–æ–∫—Ä—É–≥, —Å/—Å–æ, –ø–æ—Å–ª–µ
                            </th>
                            <th>
                                –ø–æ, –∫/–∫–æ
                            </th>
                            <th>
                                —á–µ—Ä–µ–∑, –ø—Ä–æ, –Ω–∞, –∑–∞, –ø–æ–¥, –æ/–æ–±, –≤/–≤–æ
                            </th>
                            <th>
                                —Å/—Å–æ, –ø–µ—Ä–µ–¥, –Ω–∞–¥, –∑–∞, –º–µ–∂–¥—É
                            </th>
                            <th>
                                –ø—Ä–∏, –æ/–æ–±, –Ω–∞, –≤/–≤–æ
                            </th>
                            <!--<th>–í&nbsp;–∫–æ–º? –í&nbsp;—á–µ–º?</th>-->
                        </tr>
                    </table>

                    <table id="resultTable" class="table table-hover" ng-table="wordTableParams">
                        <tbody>
                        <tr ng-repeat="item in $data track by item.id">
                            <td>

                                <table class="table resultInnerTable">
                                    <tr ng-class="item.status">

                                        <!--&lt;!&ndash;<td>{{rowNumber}}</td>&ndash;&gt;-->

                                        <th ng-repeat="wordForm in item.wordForms"
                                            ng-class="{'bg-danger': wordForm.failure, 'bg-warning': wordForm.warning}">
                                            {{wordForm.actual}}
                                            <div ng-if="wordForm.failureOrWarning">–ü—Ä–∞–≤–∏–ª—å–Ω–æ: {{wordForm.expected}}
                                            </div>
                                        </th>

                                        <th ng-style="{'background-color': declensionColor(item)}" class="decl-col">
                                            <div class="w-75 text-right"
                                                 ng-if="item.declension == -1"
                                                 title="–ù–µ—Å–∫–ª–æ–Ω—è–µ–º–æ–µ —Å–ª–æ–≤–æ">
                                                {{item.declension}}
                                            </div>
                                            <div class="w-75 text-right"
                                                 ng-if="item.declension != -1">
                                                {{item.declension}}
                                            </div>
                                        </th>

                                        <th ng-style="{'background-color': genderColor(item)}" class="gender-col">
                                            {{item.gender}}
                                        </th>

                                    </tr>
                                </table>

                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>

    </div>
</div>

</body>
</html>